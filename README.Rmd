# mongolitedt


Extends `mongolite` with `finddt()` and `aggregatedt()` that return `data.table` objects. 

**Important**

To use these functions the query sent to mongodb **must** return data that can be coerced into a data.table using `data.table::rbindlist`



## Useage

Define a mongolite::mongo connection object 

`mongo <- mongo(collection = "test", db = "test", url = "mongodb://localhost")`

Then call `bind_mongolitedt(mongo)` to bind the `finddt()` and `aggregatedt()` functions

Then use the functions as you would standard `mongolite` functions:

`mongo$finddt(limit = 10)` returns 10 rows of a data.table

some quick benchmarks:

 - `mongo$finddt` 1,000,000 documents at pagesize 100000 ~10 seconds
 - `mongo$find` 1,000,000 documents at pagesize 100000 ~30 seconds.

 - `mongo$finddt` - 5,000,000 documents at pagesize 100000 ~60 seconds
 - `mongo$find`   - 5,000,000 documents at pagesize 100000 ~157 seconds


